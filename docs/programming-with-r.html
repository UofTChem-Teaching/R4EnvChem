<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Programming with R | R for Environmental Chemists</title>
  <meta name="description" content="This is a proof-of-concept for a further full length textbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Programming with R | R for Environmental Chemists" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://davidrosshall.github.io/R4EnvChem/" />
  
  <meta property="og:description" content="This is a proof-of-concept for a further full length textbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Programming with R | R for Environmental Chemists" />
  
  <meta name="twitter:description" content="This is a proof-of-concept for a further full length textbook." />
  

<meta name="author" content="David Hall, Steven Kutarna, Kristen Yeh, Hui Peng and Jessica D’eon" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="transform-dplyr-and-data-manipulation.html"/>
<link rel="next" href="modelling.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Environmental Chemistry</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors"><i class="fa fa-check"></i>Authors</a></li>
</ul></li>
<li class="part"><span><b>Section 1: Getting Setup in R</b></span></li>
<li class="chapter" data-level="1" data-path="installing-r.html"><a href="installing-r.html"><i class="fa fa-check"></i><b>1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r.html"><a href="installing-r.html#prerequisite-software"><i class="fa fa-check"></i><b>1.1</b> Prerequisite software</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="installing-r.html"><a href="installing-r.html#r"><i class="fa fa-check"></i><b>1.1.1</b> R</a></li>
<li class="chapter" data-level="1.1.2" data-path="installing-r.html"><a href="installing-r.html#downloading-rstudio-ide"><i class="fa fa-check"></i><b>1.1.2</b> Downloading RStudio IDE</a></li>
<li class="chapter" data-level="1.1.3" data-path="installing-r.html"><a href="installing-r.html#installing-packages"><i class="fa fa-check"></i><b>1.1.3</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-r.html"><a href="installing-r.html#running-r-code"><i class="fa fa-check"></i><b>1.2</b> Running R Code</a></li>
<li class="chapter" data-level="1.3" data-path="installing-r.html"><a href="installing-r.html#customizing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Customizing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="installing-r.html"><a href="installing-r.html#where-to-get-help"><i class="fa fa-check"></i><b>1.4</b> Where to get help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-coding-basics.html"><a href="r-coding-basics.html"><i class="fa fa-check"></i><b>2</b> R coding basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="r-coding-basics.html"><a href="r-coding-basics.html#data-types"><i class="fa fa-check"></i><b>2.2</b> Data Types</a></li>
<li class="chapter" data-level="2.3" data-path="r-coding-basics.html"><a href="r-coding-basics.html#data-structures"><i class="fa fa-check"></i><b>2.3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#other-data-structures"><i class="fa fa-check"></i><b>2.3.1</b> Other data structures</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-coding-basics.html"><a href="r-coding-basics.html#r-packages-and-functions"><i class="fa fa-check"></i><b>2.4</b> R packages and functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#ggplot2"><i class="fa fa-check"></i><b>2.4.1</b> ggplot2</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-coding-basics.html"><a href="r-coding-basics.html#function-documentation"><i class="fa fa-check"></i><b>2.4.2</b> Function Documentation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="working-with-r.html"><a href="working-with-r.html"><i class="fa fa-check"></i><b>3</b> Working with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="working-with-r.html"><a href="working-with-r.html#paths-and-directories"><i class="fa fa-check"></i><b>3.1</b> Paths and directories</a></li>
<li class="chapter" data-level="3.2" data-path="working-with-r.html"><a href="working-with-r.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>3.2</b> Creating an RStudio project</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="working-with-r.html"><a href="working-with-r.html#the-value-of-r-projects"><i class="fa fa-check"></i><b>3.2.1</b> The value of R projects</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="working-with-r.html"><a href="working-with-r.html#workspace-and-whats-real"><i class="fa fa-check"></i><b>3.3</b> Workspace and what’s real</a></li>
<li class="chapter" data-level="3.4" data-path="working-with-r.html"><a href="working-with-r.html#saving-r-scripts"><i class="fa fa-check"></i><b>3.4</b> Saving R scripts</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="working-with-r.html"><a href="working-with-r.html#what-should-i-save"><i class="fa fa-check"></i><b>3.4.1</b> What should I save?</a></li>
<li class="chapter" data-level="3.4.2" data-path="working-with-r.html"><a href="working-with-r.html#saving-objects"><i class="fa fa-check"></i><b>3.4.2</b> Saving objects</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="working-with-r.html"><a href="working-with-r.html#script-formatting"><i class="fa fa-check"></i><b>3.5</b> Script formatting</a></li>
<li class="chapter" data-level="3.6" data-path="working-with-r.html"><a href="working-with-r.html#viewing-data-and-code-simultaneously"><i class="fa fa-check"></i><b>3.6</b> Viewing data and code simultaneously</a></li>
<li class="chapter" data-level="3.7" data-path="working-with-r.html"><a href="working-with-r.html#troubleshooting-error-messages"><i class="fa fa-check"></i><b>3.7</b> Troubleshooting error messages</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="working-with-r.html"><a href="working-with-r.html#script-diagnostics"><i class="fa fa-check"></i><b>3.7.1</b> Script diagnostics</a></li>
<li class="chapter" data-level="3.7.2" data-path="working-with-r.html"><a href="working-with-r.html#reading-error-codes"><i class="fa fa-check"></i><b>3.7.2</b> Reading error codes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="using-r-markdown.html"><a href="using-r-markdown.html"><i class="fa fa-check"></i><b>4</b> Using R Markdown</a>
<ul>
<li class="chapter" data-level="4.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#lets-dig-a-little-deeper"><i class="fa fa-check"></i><b>4.1</b> Let’s dig a little deeper</a></li>
<li class="chapter" data-level="4.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#how-do-i-get-started-with-r-markdown"><i class="fa fa-check"></i><b>4.2</b> How do I get started with R markdown?</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#great-now-whats-going-on-with-this-r-markdown-document"><i class="fa fa-check"></i><b>4.2.1</b> Great, now what’s going on with this R markdown document?</a></li>
<li class="chapter" data-level="4.2.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#how-to-run-r-code-in-r-markdown"><i class="fa fa-check"></i><b>4.2.2</b> How to run R code in R Markdown</a></li>
<li class="chapter" data-level="4.2.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#how-do-i-go-from-r-markdown-to-something-i-can-hand-in"><i class="fa fa-check"></i><b>4.2.3</b> How do I go from R markdown to something I can hand-in</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#so-now-what-do-i-do-with-r-markdown"><i class="fa fa-check"></i><b>4.3</b> So now what do I do with R Markdown?</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#r-markdown-resources-and-further-reading"><i class="fa fa-check"></i><b>4.3.1</b> R Markdown resources and further reading</a></li>
<li class="chapter" data-level="4.3.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#r-code-chunk-options"><i class="fa fa-check"></i><b>4.3.2</b> R code chunk options</a></li>
<li class="chapter" data-level="4.3.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#inserting-images-into-markdown-documents"><i class="fa fa-check"></i><b>4.3.3</b> Inserting images into markdown documents</a></li>
<li class="chapter" data-level="4.3.4" data-path="using-r-markdown.html"><a href="using-r-markdown.html#generating-tables"><i class="fa fa-check"></i><b>4.3.4</b> Generating Tables</a></li>
<li class="chapter" data-level="4.3.5" data-path="using-r-markdown.html"><a href="using-r-markdown.html#spellcheck-in-r-markdown"><i class="fa fa-check"></i><b>4.3.5</b> Spellcheck in R Markdown</a></li>
<li class="chapter" data-level="4.3.6" data-path="using-r-markdown.html"><a href="using-r-markdown.html#quick-reference-on-r-markdown-syntax"><i class="fa fa-check"></i><b>4.3.6</b> Quick reference on R markdown syntax</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-tutorial-exercise.html"><a href="r-tutorial-exercise.html"><i class="fa fa-check"></i><b>5</b> R Tutorial Exercise</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-tutorial-exercise.html"><a href="r-tutorial-exercise.html#expected-outcome"><i class="fa fa-check"></i><b>5.1</b> Expected outcome</a></li>
</ul></li>
<li class="part"><span><b>Section 2: Data Analysis in R</b></span></li>
<li class="chapter" data-level="6" data-path="intro-to-data-analysis.html"><a href="intro-to-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Intro to Data Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="intro-to-data-analysis.html"><a href="intro-to-data-analysis.html#further-reading"><i class="fa fa-check"></i><b>6.1</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>7</b> Importing data into R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#how-data-is-stored"><i class="fa fa-check"></i><b>7.1</b> How data is stored</a></li>
<li class="chapter" data-level="7.2" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#read_csv"><i class="fa fa-check"></i><b>7.2</b> read_csv</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#tibbles-vs.-data-frames"><i class="fa fa-check"></i><b>7.2.1</b> Tibbles vs. data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#importing-other-data-types"><i class="fa fa-check"></i><b>7.3</b> Importing other data types</a></li>
<li class="chapter" data-level="7.4" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#saving-data"><i class="fa fa-check"></i><b>7.4</b> Saving data</a></li>
<li class="chapter" data-level="7.5" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#further-reading-1"><i class="fa fa-check"></i><b>7.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidying-your-data.html"><a href="tidying-your-data.html"><i class="fa fa-check"></i><b>8</b> Tidying your data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tidying-your-data.html"><a href="tidying-your-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>8.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="8.2" data-path="tidying-your-data.html"><a href="tidying-your-data.html#tools-to-tidy-your-data"><i class="fa fa-check"></i><b>8.2</b> Tools to tidy your data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tidying-your-data.html"><a href="tidying-your-data.html#making-data-longer"><i class="fa fa-check"></i><b>8.2.1</b> Making data ‘longer’</a></li>
<li class="chapter" data-level="8.2.2" data-path="tidying-your-data.html"><a href="tidying-your-data.html#making-data-wider"><i class="fa fa-check"></i><b>8.2.2</b> Making data ‘wider’</a></li>
<li class="chapter" data-level="8.2.3" data-path="tidying-your-data.html"><a href="tidying-your-data.html#seperating-columns"><i class="fa fa-check"></i><b>8.2.3</b> Seperating columns</a></li>
<li class="chapter" data-level="8.2.4" data-path="tidying-your-data.html"><a href="tidying-your-data.html#unitingcombining-columns"><i class="fa fa-check"></i><b>8.2.4</b> Uniting/combining columns</a></li>
<li class="chapter" data-level="8.2.5" data-path="tidying-your-data.html"><a href="tidying-your-data.html#renaming-columnsheaders"><i class="fa fa-check"></i><b>8.2.5</b> Renaming columns/headers</a></li>
<li class="chapter" data-level="8.2.6" data-path="tidying-your-data.html"><a href="tidying-your-data.html#rounding-numbers"><i class="fa fa-check"></i><b>8.2.6</b> Rounding numbers</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tidying-your-data.html"><a href="tidying-your-data.html#tips-for-recording-data"><i class="fa fa-check"></i><b>8.3</b> Tips for recording data</a></li>
<li class="chapter" data-level="8.4" data-path="tidying-your-data.html"><a href="tidying-your-data.html#further-reading-2"><i class="fa fa-check"></i><b>8.4</b> Further reading</a></li>
<li class="chapter" data-level="8.5" data-path="tidying-your-data.html"><a href="tidying-your-data.html#chapter-references"><i class="fa fa-check"></i><b>8.5</b> Chapter References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html"><i class="fa fa-check"></i><b>9</b> Transform: dplyr and data manipulation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#selecting-by-row-or-value"><i class="fa fa-check"></i><b>9.1</b> Selecting by row or value</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#logical-oeprators"><i class="fa fa-check"></i><b>9.1.1</b> Logical oeprators</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#arranging-rows"><i class="fa fa-check"></i><b>9.2</b> Arranging rows</a></li>
<li class="chapter" data-level="9.3" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#selecting-by-column-or-variable"><i class="fa fa-check"></i><b>9.3</b> Selecting by column or variable</a></li>
<li class="chapter" data-level="9.4" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#adding-new-variables"><i class="fa fa-check"></i><b>9.4</b> Adding new variables</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#useful-mutate-function"><i class="fa fa-check"></i><b>9.4.1</b> Useful mutate function</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#group-and-summarize-data"><i class="fa fa-check"></i><b>9.5</b> Group and summarize data</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#useful-summarize-functions"><i class="fa fa-check"></i><b>9.5.1</b> Useful summarize functions</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#the-pipe-chaining-functions-together"><i class="fa fa-check"></i><b>9.6</b> The pipe: chaining functions together</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#notes-on-piping"><i class="fa fa-check"></i><b>9.6.1</b> Notes on piping</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#further-reading-3"><i class="fa fa-check"></i><b>9.7</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="programming-with-r.html"><a href="programming-with-r.html"><i class="fa fa-check"></i><b>10</b> Programming with R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="programming-with-r.html"><a href="programming-with-r.html#functions"><i class="fa fa-check"></i><b>10.1</b> Functions</a></li>
<li class="chapter" data-level="10.2" data-path="programming-with-r.html"><a href="programming-with-r.html#conditional-arguments"><i class="fa fa-check"></i><b>10.2</b> Conditional arguments</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="programming-with-r.html"><a href="programming-with-r.html#piping-conditional-statements"><i class="fa fa-check"></i><b>10.2.1</b> Piping conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="programming-with-r.html"><a href="programming-with-r.html#when-to-use-functions"><i class="fa fa-check"></i><b>10.3</b> When to use functions</a></li>
<li class="chapter" data-level="10.4" data-path="programming-with-r.html"><a href="programming-with-r.html#further-reading-4"><i class="fa fa-check"></i><b>10.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>11</b> Modelling</a>
<ul>
<li class="chapter" data-level="11.1" data-path="modelling.html"><a href="modelling.html#base-r-linear-model"><i class="fa fa-check"></i><b>11.1</b> Base R Linear Model</a></li>
<li class="chapter" data-level="11.2" data-path="modelling.html"><a href="modelling.html#cleaning-up-model-ouputs"><i class="fa fa-check"></i><b>11.2</b> Cleaning up model ouputs</a></li>
<li class="chapter" data-level="11.3" data-path="modelling.html"><a href="modelling.html#further-reading-5"><i class="fa fa-check"></i><b>11.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualizations.html"><a href="visualizations.html"><i class="fa fa-check"></i><b>12</b> Visualizations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="visualizations.html"><a href="visualizations.html#building-plots-ups"><i class="fa fa-check"></i><b>12.1</b> Building plots ups</a></li>
<li class="chapter" data-level="12.2" data-path="visualizations.html"><a href="visualizations.html#basic-plotting"><i class="fa fa-check"></i><b>12.2</b> Basic plotting</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="visualizations.html"><a href="visualizations.html#changing-plot-labels"><i class="fa fa-check"></i><b>12.2.1</b> Changing plot labels</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="visualizations.html"><a href="visualizations.html#further-reading-6"><i class="fa fa-check"></i><b>12.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>13</b> Communication</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Environmental Chemists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming-with-r" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Programming with R</h1>
<!-- Aim of this is to show people how they can include programming features to enhance their coding. Mostly tips and shit to get them started no encompassing guide -->
<p>Programming is writing instructions that tell the computer what to do. Like most things, learning a little goes a long way. And like most things, it’s easy to lose the forest for the trees. That’s why we won’t focus too much on programming (after all you’re chemist not computer scientist) but we will introduce a few simple yet incredibly powerful elements of programming to help you along with your data science quest.</p>
<p>We’ll point to several sources for further reading on functions at the end of this chapter.</p>
<div id="functions" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Functions</h2>
<p>Functions allow you to write general purpose code to automate common tasks. They’re a great way to decrease repetition and make your code more legible and reproducible. To crease a function in R you only need <code>function()</code>:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="programming-with-r.html#cb164-1" aria-hidden="true" tabindex="-1"></a>funSum <span class="ot">&lt;-</span> <span class="cf">function</span>(x,y){</span>
<span id="cb164-2"><a href="programming-with-r.html#cb164-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb164-3"><a href="programming-with-r.html#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">&quot;The sum of&quot;</span>, x, <span class="st">&quot;+&quot;</span>, y, <span class="st">&quot;is&quot;</span>, z, <span class="at">sep =</span><span class="st">&quot; &quot;</span>)</span>
<span id="cb164-4"><a href="programming-with-r.html#cb164-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb164-5"><a href="programming-with-r.html#cb164-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-6"><a href="programming-with-r.html#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="fu">funSum</span>(<span class="dv">1</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;The sum of 1 + 3 is 4&quot;</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="programming-with-r.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">funSum</span>(<span class="st">&quot;yes&quot;</span>,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## Error in x + y: non-numeric argument to binary operator</code></pre>
<p>What we’ve done is create a function called <code>funSum</code> which takes two numeric inputs <code>x</code> and <code>y</code>, sums the two into <code>z</code> and paste an output telling us the sum. A couple of things to note:</p>
<ul>
<li>We need to <em>explicitly</em> state which arguments are function will take; in this example they are <code>x</code> and <code>y</code>. Whatever we pass to <code>x</code> or <code>y</code> will be carried into the function.</li>
<li>We can’t sum non-numeric values, so R returns an error in the second instance</li>
<li>Functions create their own environment, therefore <em>any variable</em> created inside a function only exists inside the function.
<ul>
<li>In the above example, <code>x</code>, <code>y</code>, and <code>z</code> only exist inside the function.</li>
</ul></li>
<li>R automatically returns whichever variable is on the last line of the body of the function; but you can explicitly ask for an output using <code>return()</code></li>
</ul>
<p>Let’s take a look at a more practical function, something that you might actually use. In mass spectrometry, a gauge of accuracy is the <em>mass error</em>, a measure of the difference between the observed and theoretical masses, and is reported in parts-per-million (ppm). The formula for calculating mass error is:</p>
<p><span class="math display">\[ Mass~error~(ppm) = \frac{|mass_{theoretical} - mass_{experimental}|}{mass_{theorical}} \times 10^6 \]</span></p>
<p>The formula is simple enough, but you may need to calculate any number of mass errors, so it behooves us to compose a quick formula to simplify our workload:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="programming-with-r.html#cb168-1" aria-hidden="true" tabindex="-1"></a>ppmMS <span class="ot">&lt;-</span> <span class="cf">function</span>(theoMZ, expMZ){</span>
<span id="cb168-2"><a href="programming-with-r.html#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="programming-with-r.html#cb168-3" aria-hidden="true" tabindex="-1"></a>  ppm <span class="ot">&lt;-</span> <span class="fu">abs</span>(theoMZ <span class="sc">-</span> expMZ)<span class="sc">/</span>theoMZ <span class="sc">*</span> <span class="fl">1e6</span></span>
<span id="cb168-4"><a href="programming-with-r.html#cb168-4" aria-hidden="true" tabindex="-1"></a>  ppm</span>
<span id="cb168-5"><a href="programming-with-r.html#cb168-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb168-6"><a href="programming-with-r.html#cb168-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-7"><a href="programming-with-r.html#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Theoretical mass = 1479.63 m/z</span></span>
<span id="cb168-8"><a href="programming-with-r.html#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="co"># experimental mass = 1480.10 m/z</span></span>
<span id="cb168-9"><a href="programming-with-r.html#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ppmMS</span>(<span class="at">theoMZ =</span> <span class="fl">1479.63</span>, <span class="at">expMZ =</span> <span class="fl">1480.10</span>)</span></code></pre></div>
<pre><code>## [1] 317.647</code></pre>
<p>Pretty useful if you’re manually checking something, but we can also use our functions into the pipe to help our data transformation:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="programming-with-r.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example data</span></span>
<span id="cb170-2"><a href="programming-with-r.html#cb170-2" aria-hidden="true" tabindex="-1"></a>masses <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;theo&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1479.63</span>, <span class="fl">1479.63</span>, <span class="fl">1479.63</span>),</span>
<span id="cb170-3"><a href="programming-with-r.html#cb170-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;exp&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1478.63</span>, <span class="fl">1479.63</span>, <span class="fl">1480.10</span>))</span>
<span id="cb170-4"><a href="programming-with-r.html#cb170-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-5"><a href="programming-with-r.html#cb170-5" aria-hidden="true" tabindex="-1"></a>masses <span class="sc">%&gt;%</span> </span>
<span id="cb170-6"><a href="programming-with-r.html#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">massError =</span> <span class="fu">ppmMS</span>(theo, exp))</span></code></pre></div>
<pre><code>##      theo     exp massError
## 1 1479.63 1478.63  675.8446
## 2 1479.63 1479.63    0.0000
## 3 1479.63 1480.10  317.6470</code></pre>
<p>This last part is critical as <em>functions make your code more legible</em>. We can clearly read that the code above is calculating the mass error between the theoretical and experimentally observed masses. This might not be as apparent if we put in a complex mathematical formula in the middle of our pipe.</p>
</div>
<div id="conditional-arguments" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Conditional arguments</h2>
<p>Are used to specify a path in a function depending on whether a statement is <code>TRUE</code> or <code>FALSE</code>. These are explored in greater detail via the links in the <a href="visualizations.html#further-reading-6">Further Reading</a> section, but here’s a quick example of a function that uses the conditional <code>if</code> statement to print out which number is largest:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="programming-with-r.html#cb172-1" aria-hidden="true" tabindex="-1"></a>isGreater <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y){</span>
<span id="cb172-2"><a href="programming-with-r.html#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(x <span class="sc">&gt;</span> y){</span>
<span id="cb172-3"><a href="programming-with-r.html#cb172-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">paste</span>(x, <span class="st">&quot;is greater than&quot;</span>, y, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb172-4"><a href="programming-with-r.html#cb172-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> y){ </span>
<span id="cb172-5"><a href="programming-with-r.html#cb172-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">paste</span>(x, <span class="st">&quot;is less than&quot;</span>, y, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb172-6"><a href="programming-with-r.html#cb172-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb172-7"><a href="programming-with-r.html#cb172-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">paste</span>(x, <span class="st">&quot;is equal to&quot;</span>, y, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb172-8"><a href="programming-with-r.html#cb172-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb172-9"><a href="programming-with-r.html#cb172-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-10"><a href="programming-with-r.html#cb172-10" aria-hidden="true" tabindex="-1"></a><span class="fu">isGreater</span> (<span class="dv">2</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2 is greater than 1&quot;</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="programming-with-r.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isGreater</span> (<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1 is less than 2&quot;</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="programming-with-r.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isGreater</span> (<span class="dv">1</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1 is equal to 1&quot;</code></pre>
<p>Our simple function compares two numbers, <code>x</code> and <code>y</code> and if <code>x &gt; y</code> evaluate to <code>TRUE</code> it returns the pasted string <code>x is greater than y</code>. If <code>x &lt; y</code> evaluates to <code>FALSE</code>, as in <code>y &gt; x</code>, our function returns the pasted string <code>x is less than y</code>, and finally if neither <code>x &gt; y</code> and <code>x &lt; y</code> evaluate to TRUE, they must be equal! Therefore the final output is <code>x is equal to y</code>. This is an example of an <code>else if</code> statement. If you’re simply evaluating two conditions (<code>TRUE</code> or <code>FALSE</code>) you only need the <code>if()</code> conditional, see <a href="visualizations.html#further-reading-6">Further Reading</a> for more details.</p>
<div id="piping-conditional-statements" class="section level3" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> Piping conditional statements</h3>
<p>You can already see the potential for simply conditional statements in the pipe. However, to keep piping operations legible, <code>dplyr</code> offers the <code>case_when</code> function, which works similarly to the <code>else if</code> statements showcased above. Let’s see how it works using a real world example.</p>
<p>In mass spectrometry undetected compounds are recorded having an intensity of 0; it’s a common practice to replace 0 with <span class="math inline">\(\frac{limit~of~detection}{2}\)</span> for subsequent analysis However, we don’t want to replace every value with <span class="math inline">\(\frac{LOD}{2}\)</span>, only 0s. Let’s use the <code>case_when()</code> function to create a new values with the recorded intensities</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="programming-with-r.html#cb178-1" aria-hidden="true" tabindex="-1"></a>lod <span class="ot">&lt;-</span> <span class="dv">4000</span> <span class="co"># previously calculated LOD </span></span>
<span id="cb178-2"><a href="programming-with-r.html#cb178-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;mz&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">308.97</span>, <span class="fl">380.81</span>, <span class="fl">410.11</span>, <span class="fl">445.34</span> ), <span class="co"># dummy data</span></span>
<span id="cb178-3"><a href="programming-with-r.html#cb178-3" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;intensities&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">5000</span>, <span class="dv">10000</span>)) </span>
<span id="cb178-4"><a href="programming-with-r.html#cb178-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-5"><a href="programming-with-r.html#cb178-5" aria-hidden="true" tabindex="-1"></a>results <span class="sc">%&gt;%</span></span>
<span id="cb178-6"><a href="programming-with-r.html#cb178-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reportedIntensities =</span> <span class="fu">case_when</span>(intensities <span class="sc">&lt;</span> lod <span class="sc">~</span> lod<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb178-7"><a href="programming-with-r.html#cb178-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="cn">TRUE</span> <span class="sc">~</span> intensities))</span></code></pre></div>
<pre><code>##       mz intensities reportedIntensities
## 1 308.97           0                2000
## 2 380.81        1000                2000
## 3 410.11        5000                5000
## 4 445.34       10000               10000</code></pre>
<p>Firstly we’re creating a new column called <code>reportedIntesities</code> using <code>mutate()</code> and using <code>case_when()</code> to conditionally fill that column. The inputs we’ve passed to <code>case_when()</code> are two-sided formulas. Essentially if the conditions on the left-hand side of the tilda (<code>~</code>) evaluate to <code>TRUE</code>, <code>case_when</code> will execute the right-hand side. Thee first two-sided formula is <code>intensities &lt; lod ~ lod/2</code> and checks if the intensities value is less than the previously calculated limit of detection. If <code>intensitis &lt; lod</code> evaluates to <code>TRUE</code> we insert half of the LOD value for that row. If <code>intentisites &lt; lod</code> evaluates to <code>FALSE</code>, we move onto the next two-side formula and reevaluate again. The second two-sided formula <code>TRUE ~ intensities</code> basically means for everything that’s remaining (greater than LOD in our instance) just use the value from the <code>intensities</code> column.</p>
<p>Some ideas to consider when working with <code>case-when()</code>:</p>
<ul>
<li>There’s no limits to the conditions you can pass to <code>case_when()</code>.</li>
<li><em>However</em> <code>case_when()</code> evaluates in order so put the more specific conditions before the more general.</li>
<li>Remember that the point of <code>case_when()</code> and piping is legibility. If you’re passing multiple conditions, consider writing a function using <code>else if</code> statements to keep the pipe legible.</li>
</ul>
</div>
</div>
<div id="when-to-use-functions" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> When to use functions</h2>
<p>A good rule when coding is <strong>Don’t Repeat yourself!</strong>. In practice, this means don’t copy and paste blocks of code to multiple parts of your script. It’s more difficult to read (more lines), and if you identify an issue with one block, you’ll need to hunt down all the other blocks to rectify the situation (you’ll always miss something!). by using functions you’ll reduce the number of lines of code, but you’ll also only need to check one spot to rectify the issues.</p>
</div>
<div id="further-reading-4" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Further Reading</h2>
<p>These chapter has been intentional succinct. We’ve omitted several other aspects of programming in R such as <code>for</code> loops, and other iterative programming. To get a better sense of programming in R and to learn more, please see the following links:</p>
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when()</a>: the documentation for the <code>case_when()</code> function and several useful examples.</li>
<li><a href="https://r4ds.had.co.nz/functions.html">Chapter 19: Functions</a>, <a href="https://r4ds.had.co.nz/vectors.html">Chapter 20: Vectors</a>, and <a href="https://r4ds.had.co.nz/iteration.html">Chapter 21: Iteration</a> of <a href="https://r4ds.had.co.nz/index.html"><em>R for Data Science</em></a> by H. Wickham and G. Grolemund.<br />
</li>
<li><a href="https://rstudio-education.github.io/hopr/">Hands-on Programming in R</a> by G. Grolemund for a more in-depth (but still approachable) take on programming in R.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="transform-dplyr-and-data-manipulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DavidRossHall/R4EnvChem/prog-with-r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4EnvChem.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
